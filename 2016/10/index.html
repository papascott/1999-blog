<html>

	<head>

		<title>papascott</title>

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="alternate" type="application/rss+xml" href="http://test-blog.papascott.de/rss.xml" />

		

		<script src="http://1999.io/dev/publish/code.js"></script>

		<link rel="stylesheet" href="http://1999.io/dev/publish/styles.css"/>

		

		<!-- Hellllp?! I'm trapped in an HTML page! -->

		

		<!-- Facebook metadata -->

			<meta property="og:url" content="[%thispageurl%]" />

			<meta property="og:type" content="website" />

			<meta property="og:title" content="[%titleForMeta%]" />

			<meta property="og:description" content="[%descriptionForMeta%]" />

			<meta property="og:site_name" content="papascott" />

			<meta property="og:image" content="[%imageForMeta%]" />

		<!-- Twitter metadata -->

			<meta name="twitter:card" content="summary_large_image">

			<meta name="twitter:site" content="@papascott">

			<meta name="twitter:title" content="[%titleForMeta%]">

			<meta name="twitter:description" content="[%descriptionForMeta%]">

			<meta name="twitter:image:src" content="[%imageForMeta%]">

		<style>

			.brand a {

				color:  #777777;

				}

			</style>

		<script>

			var pagetable = {
    "productname": "1999",
    "productnameForDisplay": "1999",
    "description": "Blogging like it's 1999.",
    "urlTwitterServer": "http://edit.papascott.de:1999/",
    "urlPageTemplate": "/template.html",
    "urlChatLogSocket": "ws://edit.papascott.de:2000/",
    "domain": "1999.io",
    "nameChatLog": "papascott",
    "facebookAppId": "1720585981555833",
    "urlMyMessageOfTheDay": "http://1999.io/misc/motd.txt",
    "version": "0.91b",
    "flEditChatUsePostBody": true,
    "ctStartups": 111,
    "flAutoSave": true,
    "minSecsBetwAutoSaves": 2,
    "textFont": "Ubuntu",
    "textFontSize": 22,
    "textLineHeight": 30,
    "outlineFont": "Ubuntu",
    "outlineFontSize": 16,
    "outlineLineHeight": 24,
    "savedTextArea": "",
    "flSavedOpml": false,
    "flChirpOnNewMessage": false,
    "flUseMarkdown": false,
    "lastTweetUrl": "https://twitter.com/davewiner/status/641643858514837504",
    "lastPostTitle": "My new blog post",
    "urlGlossaryOpml": "",
    "copyright": "",
    "authorFacebookAccount": "",
    "authorGithubAccount": "",
    "authorLinkedInAccount": "",
    "urlRssFeed": "http://test-blog.papascott.de/rss.xml",
    "lastPodcastUrl": "",
    "flAutoPublish": false,
    "flPublishToFacebook": false,
    "flEditorsMenu": true,
    "flPlugInsMenu": true,
    "lastImageUrl": "",
    "lastImageAlign": "right",
    "flBetterStoryUrls": true,
    "flDisqusComments": true,
    "disqusGroup": "1999-papascott-de",
    "siteName": "papascott",
    "urlBlogHome": "http://test-blog.papascott.de/",
    "collaborators": "papascott",
    "rssTitle": "1999.papascott.de",
    "rssLink": "http://test-blog.papascott.de/",
    "rssDescription": "papascott on 1999.io",
    "rssInstantArticlesSupport": false,
    "flAnyoneCanReply": true,
    "urlOpmlTemplate": "http://test-blog.papascott.de/misc/template.opml",
    "urlPageStyles": "http://1999.io/dev/publish/styles.css",
    "urlPageCode": "http://1999.io/dev/publish/code.js",
    "flHomePage": true,
    "defaultTitleStyle": " style=\"display: none;\" ",
    "urlImage": "",
    "disqusComments": "",
    "twitterscreenname": "papascott",
    "title": "papascott",
    "text": "<div class=\"divArchivePageTitle\">Archive page for October 2016</div>\n<style>.divChatLog {margin-left: 0;}</style>\n<div class=\"divBlogPostList\">\n\t<div class=\"divBlogPost\" data-id=\"4\">\n\t\t<div class=\"divBlogPostTitle\"><a href=\"http://test-blog.papascott.de/2016/10/03/save1999ioUpdatesAsJsonToDealWithLater.html\">Save 1999.io updates as json to deal with later</a></div>\n\t\t<div class=\"divBlogPostBody\"><p>When my plan to push my updates to GitHub using simpleGit didn't go as planned, I was certainly expecting to write \"but when pushing over the GitHub API the updates worked as expected\". But they didn't. I was having the same problems over the API as when using simpleGit locally.</p><p>The problem, I think, is the same as before, and is similar to <a href=\"http://scripting.com/2016/09/27/whatILearnedAboutFswritefileToday.html\">the problems with fs.writeFile</a> that Dave described last week. The server is synchronous and will call several publish callbacks at the same time. To reliably push to GitHub, I need to deal with the updated files asynchronously, one after the other. And since the publish callbacks run inside the server, I don't really want to do asynchronous things inside my publish callbacks, since I could then slow down or even block the server.</p><p>My idea now is just to save the updates someplace as json, then write a script running separately from nodeStorage to handle those updates one at a time. I'll do my best to give the json files unique filenames, using a timestamp with Date.now() and a md5 checksum of the body of the file being written. <a href=\"https://gist.github.com/papascott/32814997cf5e428085d7589388b7b71d\">Here is my script.</a></p><p>The next step will be a separate script to process those json files one at a time as they are produced.</p><p><br></p></div>\n\t\t<div class=\"divBlogPostWhen\"><a href=\"http://test-blog.papascott.de/2016/10/03/save1999ioUpdatesAsJsonToDealWithLater.html\">10/3/2016 at 1:33:21 PM by papascott</a></div>\n\t\t</div>\n\n\n\t</div>\n"
}; 

			</script>

		</head>

	<body>

		<div class="divPageBody" id="idPageBody">

			<div class="divPrevNextNavigation" id="idPrevNextNavigation"></div>

			<div class="divMessageTitle" id="idMessageTitle"  style="display: none;" >papascott</div>

			<div class="divChatLog" id="idChatLog">

				<div class="divArchivePageTitle">Archive page for October 2016</div>
<style>.divChatLog {margin-left: 0;}</style>
<div class="divBlogPostList">
	<div class="divBlogPost" data-id="4">
		<div class="divBlogPostTitle"><a href="http://test-blog.papascott.de/2016/10/03/save1999ioUpdatesAsJsonToDealWithLater.html">Save 1999.io updates as json to deal with later</a></div>
		<div class="divBlogPostBody"><p>When my plan to push my updates to GitHub using simpleGit didn't go as planned, I was certainly expecting to write "but when pushing over the GitHub API the updates worked as expected". But they didn't. I was having the same problems over the API as when using simpleGit locally.</p><p>The problem, I think, is the same as before, and is similar to <a href="http://scripting.com/2016/09/27/whatILearnedAboutFswritefileToday.html">the problems with fs.writeFile</a> that Dave described last week. The server is synchronous and will call several publish callbacks at the same time. To reliably push to GitHub, I need to deal with the updated files asynchronously, one after the other. And since the publish callbacks run inside the server, I don't really want to do asynchronous things inside my publish callbacks, since I could then slow down or even block the server.</p><p>My idea now is just to save the updates someplace as json, then write a script running separately from nodeStorage to handle those updates one at a time. I'll do my best to give the json files unique filenames, using a timestamp with Date.now() and a md5 checksum of the body of the file being written. <a href="https://gist.github.com/papascott/32814997cf5e428085d7589388b7b71d">Here is my script.</a></p><p>The next step will be a separate script to process those json files one at a time as they are produced.</p><p><br></p></div>
		<div class="divBlogPostWhen"><a href="http://test-blog.papascott.de/2016/10/03/save1999ioUpdatesAsJsonToDealWithLater.html">10/3/2016 at 1:33:21 PM by papascott</a></div>
		</div>


	</div>


				</div>

			

			<div class="divFooter" id="idFooter">

				</div>

			</div>

		<script>

			$(document).ready (function () {

				startup ();

				});

			</script>

		</body>

	</html>

