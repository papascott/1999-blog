<html>

	<head>

		<title>Copy 1999.io files to GitHub 2</title>

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="alternate" type="application/rss+xml" href="http://test-blog.papascott.de/rss.xml" />

		

		<script src="http://1999.io/dev/publish/code.js"></script>

		<link rel="stylesheet" href="http://1999.io/dev/publish/styles.css"/>

		

		<!-- Hellllp?! I'm trapped in an HTML page! -->

		

		<!-- Facebook metadata -->

			<meta property="og:url" content="http://test-blog.papascott.de/2016/09/16/push1999ioToGithub.html" />

			<meta property="og:type" content="website" />

			<meta property="og:title" content="Copy 1999.io files to GitHub 2" />

			<meta property="og:description" content="This didn't actually turn out the way I planned when I was setting everything up for GitHub…I thought that using git from a callback would be just like using it when I'm using it to save code. Do 'git status' to see what needs to be done, 'git add' to set up what to commit, 'git commit' to save to the local repository, and finally 'git push' to send the changes to GitHub.&amp;nbsp;Since the simple-git module is included with nodeStorage, it can be simply loaded into our callback. In theory it would just bevar ghRoot = &quot;/home/shanson/test-rhino&quot;; //where I cloned the repositoryvar simpleGit = require('simple-git')(ghRoot); filesystem.newObject(ghRoot + '/' + relpath, body); simpleGit.status().add('.').commit('Updated from 1999.io').push();This works when testing with a single file. When I actually put it in a callback, I sometimes get errors when trying to push. The reason is when updating a post, the callback is called on 5 different files simultaneously. That's no problem when just writing files, but when they all try to push to GitHub over the network at the same time, some of them will fail.I wasn't sure how to get the callbacks to keep track of what the others were doing, and for the time being I came up with a kludge. I only run the simpleGit commands for rss.xml (which gets written on every update), and using setTimeout I wait 5 seconds before doing so (since all the callbacks seems to complete in about 1 second, 5 seconds should be long enough for them to complete). My script is saved as a gist.It's a interim solution, a kludge, it works well enough for my purposes, but I wouldn't recommend it for anybody else. However, GitHub does have an API where you can take actions without a local repository. Maybe that will work better? Stay tuned." />

			<meta property="og:site_name" content="papascott" />

			<meta property="og:image" content="" />

		<!-- Twitter metadata -->

			<meta name="twitter:card" content="summary_large_image">

			<meta name="twitter:site" content="@papascott">

			<meta name="twitter:title" content="Copy 1999.io files to GitHub 2">

			<meta name="twitter:description" content="This didn't actually turn out the way I planned when I was setting everything up for GitHub…I thought that using git from a callback would be just like using it when I'm using it to save code. Do 'git status' to see what needs to be done, 'git add' to set up what to commit, 'git commit' to save to the local repository, and finally 'git push' to send the changes to GitHub.&amp;nbsp;Since the simple-git module is included with nodeStorage, it can be simply loaded into our callback. In theory it would just bevar ghRoot = &quot;/home/shanson/test-rhino&quot;; //where I cloned the repositoryvar simpleGit = require('simple-git')(ghRoot); filesystem.newObject(ghRoot + '/' + relpath, body); simpleGit.status().add('.').commit('Updated from 1999.io').push();This works when testing with a single file. When I actually put it in a callback, I sometimes get errors when trying to push. The reason is when updating a post, the callback is called on 5 different files simultaneously. That's no problem when just writing files, but when they all try to push to GitHub over the network at the same time, some of them will fail.I wasn't sure how to get the callbacks to keep track of what the others were doing, and for the time being I came up with a kludge. I only run the simpleGit commands for rss.xml (which gets written on every update), and using setTimeout I wait 5 seconds before doing so (since all the callbacks seems to complete in about 1 second, 5 seconds should be long enough for them to complete). My script is saved as a gist.It's a interim solution, a kludge, it works well enough for my purposes, but I wouldn't recommend it for anybody else. However, GitHub does have an API where you can take actions without a local repository. Maybe that will work better? Stay tuned.">

			<meta name="twitter:image:src" content="">

		<style>

			.brand a {

				color:  #777777;

				}

			</style>

		<script>

			var pagetable = {
    "productname": "1999",
    "productnameForDisplay": "1999",
    "description": "This didn't actually turn out the way I planned when I was setting everything up for GitHub…I thought that using git from a callback would be just like using it when I'm using it to save code. Do 'git status' to see what needs to be done, 'git add' to set up what to commit, 'git commit' to save to the local repository, and finally 'git push' to send the changes to GitHub.&amp;nbsp;Since the simple-git module is included with nodeStorage, it can be simply loaded into our callback. In theory it would just bevar ghRoot = &quot;/home/shanson/test-rhino&quot;; //where I cloned the repositoryvar simpleGit = require('simple-git')(ghRoot); filesystem.newObject(ghRoot + '/' + relpath, body); simpleGit.status().add('.').commit('Updated from 1999.io').push();This works when testing with a single file. When I actually put it in a callback, I sometimes get errors when trying to push. The reason is when updating a post, the callback is called on 5 different files simultaneously. That's no problem when just writing files, but when they all try to push to GitHub over the network at the same time, some of them will fail.I wasn't sure how to get the callbacks to keep track of what the others were doing, and for the time being I came up with a kludge. I only run the simpleGit commands for rss.xml (which gets written on every update), and using setTimeout I wait 5 seconds before doing so (since all the callbacks seems to complete in about 1 second, 5 seconds should be long enough for them to complete). My script is saved as a gist.It's a interim solution, a kludge, it works well enough for my purposes, but I wouldn't recommend it for anybody else. However, GitHub does have an API where you can take actions without a local repository. Maybe that will work better? Stay tuned.",
    "urlTwitterServer": "http://edit.papascott.de:1999/",
    "urlPageTemplate": "/template.html",
    "urlChatLogSocket": "ws://edit.papascott.de:2000/",
    "domain": "1999.io",
    "nameChatLog": "papascott",
    "facebookAppId": "1720585981555833",
    "urlMyMessageOfTheDay": "http://1999.io/misc/motd.txt",
    "version": "0.90y",
    "flEditChatUsePostBody": true,
    "ctStartups": 104,
    "flAutoSave": true,
    "minSecsBetwAutoSaves": 2,
    "textFont": "Ubuntu",
    "textFontSize": 22,
    "textLineHeight": 30,
    "outlineFont": "Ubuntu",
    "outlineFontSize": 16,
    "outlineLineHeight": 24,
    "savedTextArea": "",
    "flSavedOpml": false,
    "flChirpOnNewMessage": false,
    "flUseMarkdown": false,
    "lastTweetUrl": "https://twitter.com/davewiner/status/641643858514837504",
    "lastPostTitle": "My new blog post",
    "urlGlossaryOpml": "",
    "copyright": "",
    "authorFacebookAccount": "",
    "authorGithubAccount": "",
    "authorLinkedInAccount": "",
    "urlRssFeed": "http://test-blog.papascott.de/rss.xml",
    "lastPodcastUrl": "",
    "flAutoPublish": false,
    "flPublishToFacebook": false,
    "flEditorsMenu": true,
    "flPlugInsMenu": true,
    "lastImageUrl": "",
    "lastImageAlign": "right",
    "flBetterStoryUrls": true,
    "flDisqusComments": true,
    "disqusGroup": "1999-papascott-de",
    "siteName": "papascott",
    "urlBlogHome": "http://test-blog.papascott.de/",
    "collaborators": "papascott",
    "rssTitle": "1999.papascott.de",
    "rssLink": "http://test-blog.papascott.de/",
    "rssDescription": "papascott on 1999.io",
    "rssInstantArticlesSupport": false,
    "flAnyoneCanReply": true,
    "urlOpmlTemplate": "http://test-blog.papascott.de/misc/template.opml",
    "urlPageStyles": "http://1999.io/dev/publish/styles.css",
    "urlPageCode": "http://1999.io/dev/publish/code.js",
    "flHomePage": false,
    "defaultTitleStyle": "",
    "urlImage": "",
    "disqusComments": "",
    "prev": {
        "id": 2,
        "name": "papascott",
        "when": "2016-09-13T08:42:15.724Z",
        "title": "Copy 1999.io files to GitHub 1",
        "urlHtml": "http://test-blog.papascott.de/2016/09/13/settingUpForGithub.html",
        "urlJson": "http://test-blog.papascott.de/2016/09/13/0002.json"
    },
    "title": "Copy 1999.io files to GitHub 2",
    "item": {
        "name": "papascott",
        "text": "<p>This didn't actually turn out the way I planned when I was <a href=\"http://1999.papascott.de/2016/09/13/settingUpForGithub.html\">setting everything up for GitHub</a>…</p><p>I thought that using git from a callback would be just like using it when I'm using it to save code. Do 'git status' to see what needs to be done, 'git add' to set up what to commit, 'git commit' to save to the local repository, and finally 'git push' to send the changes to GitHub.&nbsp;</p><p>Since the simple-git module is included with nodeStorage, it can be simply loaded into our callback. In theory it would just be</p><p></p><blockquote>var ghRoot = \"/home/shanson/test-rhino\"; //where I cloned the repository<br>var simpleGit = require('simple-git')(ghRoot); <br>filesystem.newObject(ghRoot + '/' + relpath, body); <br>simpleGit.status().add('.').commit('Updated from 1999.io').push();</blockquote><p></p><p>This works when testing with a single file. When I actually put it in a callback, I sometimes get errors when trying to push. The reason is when updating a post, the callback is called on 5 different files simultaneously. That's no problem when just writing files, but when they all try to push to GitHub over the network at the same time, some of them will fail.</p><p>I wasn't sure how to get the callbacks to keep track of what the others were doing, and for the time being I came up with a kludge. I only run the simpleGit commands for rss.xml (which gets written on every update), and using setTimeout I wait 5 seconds before doing so (since all the callbacks seems to complete in about 1 second, 5 seconds should be long enough for them to complete). My script is saved as a <a href=\"https://gist.github.com/papascott/03f48a0bb553619f2f74789716e857b2\">gist</a>.</p><p>It's a interim solution, a kludge, it works well enough for my purposes, but I wouldn't recommend it for anybody else. However, GitHub does have an API where you can take actions without a local repository. Maybe that will work better? Stay tuned.</p><p></p>",
        "id": 3,
        "when": "2016-09-16T12:00:28.372Z",
        "payload": {
            "editor": "wizzy",
            "urlRendering": "http://test-blog.papascott.de/2016/09/16/push1999ioToGithub.html",
            "title": "Copy 1999.io files to GitHub 2",
            "fnameHtml": "push1999ioToGithub.html",
            "flPublished": true
        },
        "urlJson": "http://test-blog.papascott.de/2016/09/16/0003.json",
        "subs": [],
        "whenLastUpdate": "2016-09-16T12:39:47.786Z",
        "ctUpdates": 15,
        "chatLog": "papascott"
    },
    "imageForMeta": "",
    "personName": "Scott Hanson",
    "profileImageUrl": "http://pbs.twimg.com/profile_images/492959098724306944/o0uzsnoJ_normal.jpeg",
    "whenPosted": "Friday, September 16, 2016",
    "thispageurl": "http://test-blog.papascott.de/2016/09/16/push1999ioToGithub.html",
    "twitterscreenname": "papascott",
    "replies": "<ul>\n</ul>\n"
}; 

			</script>

		</head>

	<body>

		<div class="divPageBody" id="idPageBody">

			<div class="divPrevNextNavigation" id="idPrevNextNavigation"></div>

			<div class="divMessageTitle" id="idMessageTitle" >Copy 1999.io files to GitHub 2</div>

			<div class="divChatLog" id="idChatLog">

				<div class="divStaticChatLogItems">
	<div class="divChatLogItems">
		<div class="divChatItem">
			<div class="divChatIcon"></div>
			<div class="divChatText">
				<div class="divTopMsgLine">
					by <span class="spPersonName"><a href="http://twitter.com/papascott" target="_blank">Scott Hanson</a></span>
					<span class="spWhen">Friday, September 16, 2016</span>
					</div>
				<div class="divMsgText"><p>This didn't actually turn out the way I planned when I was <a href="http://1999.papascott.de/2016/09/13/settingUpForGithub.html">setting everything up for GitHub</a>…</p><p>I thought that using git from a callback would be just like using it when I'm using it to save code. Do 'git status' to see what needs to be done, 'git add' to set up what to commit, 'git commit' to save to the local repository, and finally 'git push' to send the changes to GitHub.&nbsp;</p><p>Since the simple-git module is included with nodeStorage, it can be simply loaded into our callback. In theory it would just be</p><p></p><blockquote>var ghRoot = "/home/shanson/test-rhino"; //where I cloned the repository<br>var simpleGit = require('simple-git')(ghRoot); <br>filesystem.newObject(ghRoot + '/' + relpath, body); <br>simpleGit.status().add('.').commit('Updated from 1999.io').push();</blockquote><p></p><p>This works when testing with a single file. When I actually put it in a callback, I sometimes get errors when trying to push. The reason is when updating a post, the callback is called on 5 different files simultaneously. That's no problem when just writing files, but when they all try to push to GitHub over the network at the same time, some of them will fail.</p><p>I wasn't sure how to get the callbacks to keep track of what the others were doing, and for the time being I came up with a kludge. I only run the simpleGit commands for rss.xml (which gets written on every update), and using setTimeout I wait 5 seconds before doing so (since all the callbacks seems to complete in about 1 second, 5 seconds should be long enough for them to complete). My script is saved as a <a href="https://gist.github.com/papascott/03f48a0bb553619f2f74789716e857b2">gist</a>.</p><p>It's a interim solution, a kludge, it works well enough for my purposes, but I wouldn't recommend it for anybody else. However, GitHub does have an API where you can take actions without a local repository. Maybe that will work better? Stay tuned.</p><p></p></div>
				<div class="divMessageReplies"><ul>
</ul>
</div>
				</div>
			</div>
		</div>
	</div>


				</div>

			
<div class="divDisqusComments">
	<div id="disqus_thread"></div>
	<script>
		var disqus_config = function () {
			this.page.url = "http://test-blog.papascott.de/2016/09/16/push1999ioToGithub.html"; 
			};
		(function () {  
			var d = document, s = d.createElement ('script');
			s.src = '//1999-papascott-de.disqus.com/embed.js';  
			s.setAttribute ('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
			})();
		</script>
	</div>


			<div class="divFooter" id="idFooter">

				</div>

			</div>

		<script>

			$(document).ready (function () {

				startup ();

				});

			</script>

		</body>

	</html>

